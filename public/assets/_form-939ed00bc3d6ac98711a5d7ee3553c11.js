(function(){var t;t=function(){function t(t,r){this.page=t,this.$form=r}return t.prototype.process=function(){var t;return t=this,t._include_blank_url_params()?t.page.load(t._url(),t._target(),t._type()):t._without_blank_url_params(function(){return t.page.load(t._url(),t._target(),t._type())})},t.prototype._without_blank_url_params=function(t){var r,n;return n="select:not(:disabled),input:not(:disabled)",r=this.$form.find(n).filter(function(){return!$(this).val()}),r.attr("disabled",!0),t(),r.attr("disabled",!1)},t.prototype._params=function(){var t,r,n,a,e,i;for(t={},i=this.$form.serializeArray(),a=0,e=i.length;e>a;a++)r=i[a],"utf8"!==r.name&&(n=-1!==r.name.indexOf("[]",r.name.length-"[]".length)?r.name.substr(0,r.name.length-2):r.name,t[n]=null!=t[n]?t[n]+(","+r.value):r.value);return t},t.prototype._include_blank_url_params=function(){return this.$form.data("include-blank-url-params")===!0},t.prototype._optimize_url_params=function(){return this.$form.data("optimize-url-params")!==!1},t.prototype._type=function(){return"partial"===this.$form.data("push")?"partial":"template"},t.prototype._target=function(){return this.$form.data("target")},t.prototype._url=function(){var t,r,n,a,e,i;return n=this,a=function(){var a;if(n._optimize_url_params()){r=[],a=this._params();for(t in a)i=a[t],r.push(""+t+"="+encodeURIComponent(i).replace(/%2C/g,","));return r.join("&")}return this.$form.serialize()}.call(this),e=this.$form.attr("action").replace(/\?.*$/,""),a.length>0&&(e+="?"+a),e},t}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Form=t}).call(this);