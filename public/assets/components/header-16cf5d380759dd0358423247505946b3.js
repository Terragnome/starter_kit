var Header=Header||{};Header.init=function(){Header._bar=DOM._headerBar,Header._nav=DOM._headerNav,Header._navIcon=DOM._headerNavIcon,Header._navMenu=DOM._headerNavMenu,Header._search=DOM._headerSearch,Header._searchForm=DOM._headerSearchForm,Header._searchIcon=DOM._headerSearchIcon,Header._searchField=DOM._headerSearchField,Header._navIcon.click(Header.toggleMenu),Header._searchIcon.click(Header.toggleSearch),Header.initSearch()},Header.clear=function(){Header.closeSearch(),Header.closeMenu()},Header.initSearch=function(){Header._searchField.keypress(function(e){13==e.which?(Header._searchForm.submit(function(e){e.preventDefault(),Application.onPageLoading();var a="&ajax=true";return $.ajax({url:$(this).attr("action"),type:$(this).attr("method"),data:$(this).serialize()+a,success:function(e){var r=this.url.replace(a,"");history.pushState({id:r},"",r),$("#scene_body").html(e)},complete:Application.onPageAlways}),!1}),Header.closeSearch()):27==e.which&&Header.closeSearch()}),Header._searchField.blur(Header.closeSearch)},Header.isSearchOpen=function(){return!Header._search.hasClass("none")},Header.toggleSearch=function(){var e=Header.isSearchOpen();e?Header.closeSearch():Header.openSearch()},Header.openSearch=function(){Header._searchField.val(""),Header.clear(),Header._nav.addClass("none"),Header._search.removeClass("none"),Header._searchForm.addClass("anim_fade_in");var e=Header._searchField;e.focus()},Header.closeSearch=function(){Header._search,Header._search.addClass("none"),Header._nav.removeClass("none")},Header.isMenuOpen=function(){return Header._navMenu.hasClass("anim_roll_down")},Header.toggleMenu=function(){var e=Header.isMenuOpen();e?Header.closeMenu():Header.openMenu()},Header.openMenu=function(){Header.clear();var e=Header._navMenu;e.toggleClass("anim_roll_down"),e.toggleClass("anim_fade_in"),e.show(),Header._navIcon.addClass("open")},Header.closeMenu=function(){var e=Header._navMenu;e.removeClass("anim_roll_down"),e.removeClass("anim_fade_in"),e.hide(),Header._navIcon.removeClass("open")},Header.onResize=function(){Header.isSearchOpen()||Header.clear()};